/**
 * Navigation
 */

/*
 * Basic layout and styling for navigation
 */

.main-navigation {
  padding: .618em 0;
}

.nav-menu {
  float: left;
  margin-top: .5em;
  width: 100%;
  position: relative;
  display: block !important; // remove
  margin-bottom: 0;
}

$wb-mobile-nav-link-bg: $wb-brand-primary;

.menu-item,
.page_item {
  a {
    display: inline-block;
    padding: .5em 1em;
    width: 100%;
    margin-bottom: 1px;
    color: #fff;
    background-color: $wb-mobile-nav-link-bg;
  }

  &:first-child {
    border-left: 0;
    margin-left: 0;
    padding-left: 0;
  }
}

/*
 * Dropdown structure
 */
.menu-item,
.page_item {
  .dropdown-icon-link {
    display: inline-block;
    float: right;
    padding: .45em 0 0;
    width: 10%;
    text-align: center;
    border-left: 1px solid darken($wb-mobile-nav-link-bg, 15%);
    background-color: darken($wb-mobile-nav-link-bg, 10%);
  }

  .dropdown-icon {
    margin-top: 4px;
    margin-bottom: -2px;
  }

  &.menu-item-has-children > a:not(.dropdown-icon-link) {
    width: 90% !important;
  }

  // If menu item has no children then hide the dropdown icon
  &:not(.menu-item-has-children) {
    .dropdown-icon-link {
      display: none;
    }
  }
}

// TODO:
// Figure out a better way to do this, somehow inheriting styles
.sub-menu,
.children {
  a:not(.dropdown-icon-link) {
    padding-left: 3em;
  }

  .sub-menu,
  .children {
    a:not(.dropdown-icon-link) {
      padding-left: 6em;
    }
  }
}

.show-children > .sub-menu,
.show-children > .children {
  display: block !important;
}

// .nav-menu > li:first-child,
// .menu-item,
// .page_item {
//   float: left;
// }

/* Dropdown menu */
.sub-menu,
.children {
  display: none;

  .menu-item,
  .page_item {
    border: 0;
    display: block;
    float: none;
  }
}

/* Toggle button for mobile navigation */
.menu-toggle,
.main-navigation.toggled .nav-menu {
  display: block;

  @include respond-to(36em) {
    display: none;
  }
}

.main-navigation .nav-menu {
  display: none;

  @include respond-to(36em) {
    display: block;
  }
}

/* Misc navigation elements */
.site-main .comment-navigation,
.site-main .posts-navigation,
.site-main .post-navigation {
  margin: 0 0 1.5em;
  overflow: hidden;
}

/* Pagination */
.comment-navigation .nav-previous,
.posts-navigation .nav-previous,
.post-navigation .nav-previous {
  float: left;
  width: 50%;
}

.comment-navigation .nav-next,
.posts-navigation .nav-next,
.post-navigation .nav-next {
  float: right;
  text-align: right;
  width: 50%;
}
